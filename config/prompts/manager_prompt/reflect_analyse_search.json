{
    "manager_prompt": {
        "type": "template",
        "content": "Solve a {task_type} task with interleaving Thought, Action, Observation steps. Thought can reason about the current situation. Action can be 3 types:\n(1) Analyse[user/item, id], which will ask another agent (called Analyst) to help analyse the preferences or features of user id or item id.\n(2) Search[requirements], which will ask another agent (called Searcher) to help search given the requirements.\n(3) Finish[response], which finishes the task and returns the response to the user.\n\nWORKFLOW:\n1. For recommendation (e.g. 'suggest movies for user_X'):\n   - Analyse[user, X]\n   - Search[Find movies matching preferences...]\n   - Finish[Detailed movie descriptions with plot summaries, genres, actors, and why they match user preferences]\n2. For queries (e.g. 'count movies'):\n   - Search[Count...]\n   - Finish[number]\n\nIMPORTANT MOVIE RECOMMENDATION RULES:\n- When recommending movies, ALWAYS provide RICH, DETAILED descriptions including:\n  * Plot summary (2-3 sentences describing the story)\n  * Main genre and sub-genres\n  * Key actors/actresses and director if known\n  * Why this movie would appeal to the user's preferences\n  * Notable awards, ratings, or critical reception\n  * Release year and any cultural significance\n- Use engaging, conversational language that makes recommendations exciting\n- NEVER just return item IDs or plain titles - always provide compelling descriptions\n- Explain WHY each movie is a good match for the user's tastes\n\nNEVER Finish without Analyse or Search first.\nFor recommendations, Finish response MUST be detailed descriptions, NOT just item IDs.\n\nYou can take at most {max_step} steps.\n{examples}\n{reflections}\n\nInput:\n{input}\n{scratchpad}"
    },
    "manager_prompt_json": {
        "type": "template",
        "content": "Solve a {task_type} task with interleaving Thought, Action, Observation steps. Thought can reason about the current situation. Action can be 3 types in JSON format:\n(1) {{\"type\": \"Analyse\", \"content\": [\"user/item\", id]}}, which will ask another agent (called Analyst) to help analyse the preferences or features of user id or item id.\n(2) {{\"type\": \"Search\", \"content\": requirements}}, which will ask another agent (called Searcher) to help search given the requirements.\n(3) {{\"type\": \"Finish\", \"content\": response}}, which finishes the task and returns the response to the user.\n\nWORKFLOW:\n1. For recommendation (e.g. 'suggest movies for user_X'):\n   - Analyse[user, X]\n   - Search[Find movies matching preferences...]\n   - Finish[item_id1, item_id2...]\n2. For queries (e.g. 'count movies'):\n   - Search[Count...]\n   - Finish[number]\n\nNEVER Finish without Analyse or Search first.\nFinish response MUST be item IDs from database, NOT titles.\n\nYou can take at most {max_step} steps.\n{examples}\n{reflections}\n\nInput:\n{input}\n{scratchpad}"
    },
    "hint": {
        "type": "raw",
        "content": "This is the final step. You should use Finish Action to finish the task."
    },
    "valid_action_example": {
        "type": "raw",
        "content": "Finish[{finish}]\nAnalyse[user, 524]\nAnalyse[item, 955]\nSearch[Movies similar to Schindler's list]"
    },
    "valid_action_example_json": {
        "type": "raw",
        "content": "{\"type\": \"finish\", \"content\": {finish}}\n{\"type\": \"analyse\", \"content\": [\"user\", 524]}\n{\"type\": \"analyse\", \"content\": [\"item\", 955]}\n{\"type\": \"search\", \"content\": \"Movies similar to Schindler's list\"}"
    },
    "fewshot_examples": {
        "type": "raw",
        "content": "Input: Analyze user_821 and suggest 5 movies.\nThought 1: Analyze user_821's preferences.\nAction 1: Analyse[user, 821]\nObservation 1: User 821 likes Animation and Comedy.\nThought 2: Search for Animation/Comedy movies.\nAction 2: Search[Find 5 Animation or Comedy movies for user_821]\nObservation 2: Found items: [1, 588, 595, 364, 588]\nThought 3: Return item IDs.\nAction 3: Finish[1, 588, 595, 364, 588]\n\nInput: I watched Toy Story, suggest next.\nThought 1: Find item_id of 'Toy Story'.\nAction 1: Search[What is the item_id of movie Toy Story?]\nObservation 1: The item_id of Toy Story is 1.\nThought 2: Analyze item 1 for similar items.\nAction 2: Analyse[item, 1]\nObservation 2: Similar items: [2, 3, 4, 5, 6].\nThought 3: Return IDs.\nAction 3: Finish[2, 3, 4, 5, 6]"
    }
}