{
    "personalization_prompt": {
        "type": "template",
        "content": "I want you to act as a personalization expert and help me create personalized recommendations for user {user_id} in the {task_type} task. You can use 5 types of commands to analyze user preferences and create personalized recommendations:\n\n(1) UserInfo[id] - Returns detailed information about the user with the given id\n(2) ItemInfo[id] - Returns detailed information about an item with the given id\n(3) UserHistory[id, k] - Returns the interaction history of user id (at most k interactions)\n(4) ItemHistory[id, k] - Returns the interaction history of item id (at most k interactions)\n(5) Finish[result] - Finishes the task and returns the personalized recommendation analysis\n\nYou can take at most {max_step} steps to complete the analysis.\n\nValid command examples:\n{examples}\n\nHere are some examples:\n{fewshot}\n(END OF EXAMPLES)\n\nRemember the user id is {user_id}. Focus on understanding their preferences, behavior patterns, and creating personalized recommendations.\n\n{history}\n\n{hint}\nCommand: "
    },
    "personalization_prompt_json": {
        "type": "template",
        "content": "I want you to act as a personalization expert and help me create personalized recommendations for user {user_id} in the {task_type} task. You can use 5 types of commands in JSON format to analyze user preferences:\n\n(1) {{\"type\": \"UserInfo\", \"content\": id}} - Returns detailed information about the user\n(2) {{\"type\": \"ItemInfo\", \"content\": id}} - Returns detailed information about an item\n(3) {{\"type\": \"UserHistory\", \"content\": [id, k]}} - Returns user interaction history (k interactions)\n(4) {{\"type\": \"ItemHistory\", \"content\": [id, k]}} - Returns item interaction history (k interactions)\n(5) {{\"type\": \"Finish\", \"content\": result}} - Finishes with personalized recommendation analysis\n\nYou can take at most {max_step} steps.\n\nValid command examples:\n{examples}\n\nHere are some examples:\n{fewshot}\n(END OF EXAMPLES)\n\nRemember the user id is {user_id}. Focus on understanding preferences, behavior patterns, and creating personalized recommendations.\n\n{history}\n\n{hint}\nCommand: "
    },
    "personalization_examples": {
        "type": "raw",
        "content": "UserInfo[123]\nUserHistory[123, 10]\nItemInfo[456]\nItemInfo[789]\nFinish[User 123 shows strong preference for action movies and sci-fi genres. Based on their rating history, they prefer movies with high production values and complex plots. Recommended items: action/sci-fi movies with ratings >4.0, similar to their top-rated items.]"
    },
    "personalization_examples_json": {
        "type": "raw",
        "content": "{{\"type\": \"UserInfo\", \"content\": 123}}\n{{\"type\": \"UserHistory\", \"content\": [123, 10]}}\n{{\"type\": \"ItemInfo\", \"content\": 456}}\n{{\"type\": \"ItemInfo\", \"content\": 789}}\n{{\"type\": \"Finish\", \"content\": \"User 123 shows strong preference for action movies and sci-fi genres. Based on their rating history, they prefer movies with high production values and complex plots. Recommended items: action/sci-fi movies with ratings >4.0, similar to their top-rated items.\"}}"
    },
    "personalization_fewshot": {
        "type": "raw",
        "content": "Suppose you are creating personalized recommendations for user 123:\n\nUserInfo[123]\nUserHistory[123, 8] (suppose we get interactions with items [23, 45, 67, 89, 12, 34, 56, 78])\nItemInfo[23] (action movie)\nItemInfo[45] (sci-fi movie)\nItemInfo[67] (romance movie - low rating)\nItemInfo[89] (action movie)\nUserHistory[23, 5] (see who else liked this action movie)\nUserHistory[45, 5] (see who else liked this sci-fi movie)\nFinish[User 123 has a clear preference for action and sci-fi genres, consistently rating them 4-5 stars. They avoid romance movies (rated 2 stars). Their taste aligns with users who like high-budget, well-produced films. Recommend: action/sci-fi movies with similar production quality and user ratings >4.0.]"
    },
    "personalization_fewshot_json": {
        "type": "raw",
        "content": "Suppose you are creating personalized recommendations for user 123:\n\n{{\"type\": \"UserInfo\", \"content\": 123}}\n{{\"type\": \"UserHistory\", \"content\": [123, 8]}} (suppose we get interactions with items [23, 45, 67, 89, 12, 34, 56, 78])\n{{\"type\": \"ItemInfo\", \"content\": 23}} (action movie)\n{{\"type\": \"ItemInfo\", \"content\": 45}} (sci-fi movie)\n{{\"type\": \"ItemInfo\", \"content\": 67}} (romance movie - low rating)\n{{\"type\": \"ItemInfo\", \"content\": 89}} (action movie)\n{{\"type\": \"UserHistory\", \"content\": [23, 5]}} (see who else liked this action movie)\n{{\"type\": \"UserHistory\", \"content\": [45, 5]}} (see who else liked this sci-fi movie)\n{{\"type\": \"Finish\", \"content\": \"User 123 has a clear preference for action and sci-fi genres, consistently rating them 4-5 stars. They avoid romance movies (rated 2 stars). Their taste aligns with users who like high-budget, well-produced films. Recommend: action/sci-fi movies with similar production quality and user ratings >4.0.\"}}"
    },
    "personalization_hint": {
        "type": "raw",
        "content": "This is the final step. You should use Finish command to provide a comprehensive personalized recommendation analysis including: user preferences, behavior patterns, recommended item types, and reasoning behind the recommendations."
    }
}
